<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>ALTN72 - TP Fil Rouge - Liste des programmeurs</title>
</head>
<body>

<div th:insert="fragments/header :: header"></div>

<h1>ALTN72 - TP Fil Rouge - Liste des programmeurs</h1>

<table class="table table-striped table-condensed" style="width: auto" >
    <thead class="thead-dark">
    <tr>
        <th scope="col">Id</th>
        <th scope="col">Nom</th>
        <th scope="col">Prénom</th>
        <th scope="col">Adresse</th>
        <th scope="col">Langage d'expertise</th>
        <th scope="col">Livre préféré</th>
        <th scope="col">Salaire</th>
        <th scope="col"><bold>Action</bold></th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="programmeur :${programmeurs}">
        <td th:text="${programmeur.id}"></td>
        <td th:text="${programmeur.nom}"></td>
        <td th:text="${programmeur.prenom}"></td>
        <td th:text="${programmeur.adresse}"></td>
        <td th:text="${programmeur.langage}"></td>
        <td th:text="${programmeur.livre}"></td>
        <td th:text="${programmeur.salaire}"></td>
        <td>
            <form th:action="@{/tpfilrouge/preparerModifProgrammeur/{idProgrammeur}(idProgrammeur=${programmeur.id})}" style="display:inline;">
                <button class="btn btn-info">Modifiez</button>
            </form>
            <!--                <form th:action="@{/tpfilrouge/supprimerProgrammeur/{idProgrammeur}(idProgrammeur=${programmeur.id})}" method="POST" style="display:inline;">-->
            <!-- Champ caché pour contourner la contrainte GET/POST des formulaires HTML -->
            <!--                    <input type="hidden" name="_method" value="DELETE" />-->
            <!--   ###  Les instructions ci-dessus peuvent être simplifiées avec "th:method" ### -->
            <form th:action="@{/tpfilrouge/supprimerProgrammeur/{idProgrammeur}(idProgrammeur=${programmeur.id})}" th:method="DELETE" style="display:inline;">
                <button class="btn btn-warning" >Supprimez</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>

<a th:href="@{/tpfilrouge/preparerAjoutProgrammeur}" class="btn btn-primary btn-sm mb-3" >Ajouter Nouveau Programmeur</a>

</body>
</html>